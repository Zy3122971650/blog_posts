{"version":3,"sources":["webpack:///./src/views/links.vue","webpack:///./src/views/links.vue?8e6d","webpack:///./src/views/links.vue?aad2"],"names":["class","data","item","index","style","key","header","out_site","blogUrl","blog_title","title","blogName","type","route_to_post","say","size","src","avatar","methods","set_page_total","url","this","$store","state","base_url","a","get","then","response","page_total","parseInt","get_page_data","page_now","console","log","document","getElementsByTagName","scroll","markdown_to_html","conetxt","name","$router","push","params","post_name","blog_name","open","computed","watch","mounted","render","__scopeId"],"mappings":"uNACOA,MAAM,S,GAQAA,MAAM,e,iBAKN,W,oKAbX,eAwBM,MAxBN,EAwBM,E,mBAvBJ,eAsBU,2BAnBgB,EAAAC,MAAI,SAApBC,EAAMC,G,wBAHhB,eAsBU,GArBRH,MAAM,OACNI,MAAA,eAECC,IAAKF,G,CAEKG,OAAM,GACf,iBAOM,CAPN,eAOM,MAPN,EAOM,CANJ,eAEM,OAFDN,MAAM,WAAY,QAAK,mBAAE,EAAAO,SAASL,EAAKM,W,eACvC,EAAAC,WAAWP,EAAKQ,MAAOR,EAAKS,WAAQ,eAEzC,eAEC,GAFUC,KAAK,OAAOZ,MAAM,SAAU,QAAK,mBAAE,EAAAa,cAAcX,EAAKY,O,YAC9D,iBAAO,C,8CAId,iBAKa,CALb,eAKa,GAJXd,MAAM,WACL,QAAK,mBAAE,EAAAO,SAASL,EAAKM,UACrBO,KAAM,IACNC,IAAKd,EAAKe,Q,iGASJ,GAGbhB,KAHa,WAIX,MAAO,CACLA,KAAM,KAGViB,QAAS,CACPC,eADO,WACU,WACTC,EAAMC,KAAKC,OAAOC,MAAMC,SAAW,0BACzC,EAAAC,EAAMC,IAAIN,GAAKO,MAAK,SAACC,GACnB,EAAKN,OAAOC,MAAMM,WAAaC,SAASF,EAAS3B,KAAM,QAG3D8B,cAPO,WAOS,WACRX,EACJC,KAAKC,OAAOC,MAAMC,SAAlB,sBACeH,KAAKC,OAAOC,MAAMS,SADjC,SAEF,EAAAP,EAAMC,IAAIN,GAAKO,MAAK,SAACC,GACnBK,QAAQC,IAAIN,EAAS3B,MACrB,EAAKA,KAAO2B,EAAS3B,QAGvBkC,SAASC,qBAAqB,QAAQ,GAAGC,OAAO,EAAG,IAErDC,iBAlBO,SAkBUC,GACf,OAAO,IAASA,IAElB1B,cArBO,SAqBO2B,GACZnB,KAAKoB,QAAQC,KAAK,CAAEF,KAAM,SAAUG,OAAQ,CAAEC,UAAWJ,MAE3D/B,WAxBO,SAwBIC,EAAOmC,GAChB,OAAa,MAATnC,GAA8B,MAAbmC,GACnBnC,EAAQ,GACDmC,IAEQ,MAAbA,GAA8B,MAATnC,IACvBmC,EAAY,IAEPA,EAAY,IAAMnC,IAE3BH,SAlCO,SAkCEa,GACP0B,KAAK1B,KAGT2B,SAAU,CACRf,SADQ,WAEN,OAAOX,KAAKC,OAAOC,MAAMS,WAG7BgB,MAAO,CACLhB,SADK,WAEHX,KAAKU,kBAGTkB,QAxDa,WAyDXd,SAASzB,MAAQ,KACjBW,KAAKC,OAAOC,MAAMS,SAAW,EAC7BX,KAAKF,iBACLE,KAAKU,kB,UCtFT,EAAOmB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf","file":"js/chunk-39798009.80cf8765.js","sourcesContent":["<template>\n  <div class=\"cards\">\n    <el-card\n      class=\"card\"\n      style=\"width: 100%\"\n      v-for=\"(item, index) in data\"\n      :key=\"index\"\n    >\n      <template #header>\n        <div class=\"card-header\">\n          <div class=\"out-site\" @click=\"out_site(item.blogUrl)\">\n            {{ blog_title(item.title, item.blogName) }}\n          </div>\n          <el-button type=\"text\" class=\"button\" @click=\"route_to_post(item.say)\"\n            >讲述我与他/她</el-button\n          >\n        </div>\n      </template>\n      <el-avatar\n        class=\"out-site\"\n        @click=\"out_site(item.blogUrl)\"\n        :size=\"200\"\n        :src=\"item.avatar\"\n      ></el-avatar>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport markdown from \"marked\";\nexport default {\n  // 根据page_now去跟新页面\n  // 几乎可以全部复用，到时候再改\n  data() {\n    return {\n      data: [],\n    };\n  },\n  methods: {\n    set_page_total() {\n      const url = this.$store.state.base_url + \"/links/total_number.txt\";\n      axios.get(url).then((response) => {\n        this.$store.state.page_total = parseInt(response.data, 10);\n      });\n    },\n    get_page_data() {\n      const url =\n        this.$store.state.base_url +\n        `/links/page_${this.$store.state.page_now}.json`;\n      axios.get(url).then((response) => {\n        console.log(response.data);\n        this.data = response.data;\n      });\n      // 回到顶\n      document.getElementsByTagName(\"html\")[0].scroll(0, 0);\n    },\n    markdown_to_html(conetxt) {\n      return markdown(conetxt);\n    },\n    route_to_post(name) {\n      this.$router.push({ name: \"friend\", params: { post_name: name } });\n    },\n    blog_title(title, blog_name) {\n      if (title == null && blog_name != null) {\n        title = \"\";\n        return blog_name;\n      }\n      if (blog_name == null && title != null) {\n        blog_name = \"\";\n      }\n      return blog_name + \"·\" + title;\n    },\n    out_site(url) {\n      open(url);\n    },\n  },\n  computed: {\n    page_now() {\n      return this.$store.state.page_now;\n    },\n  },\n  watch: {\n    page_now() {\n      this.get_page_data();\n    },\n  },\n  mounted() {\n    document.title = \"友链\";\n    this.$store.state.page_now = 1;\n    this.set_page_total();\n    this.get_page_data();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.cards {\n  width: 100%;\n}\n.card {\n  margin-top: 20px;\n  text-align: start;\n}\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.out-site {\n  cursor: pointer;\n}\n</style>","import { render } from \"./links.vue?vue&type=template&id=58f0cc99&scoped=true\"\nimport script from \"./links.vue?vue&type=script&lang=js\"\nexport * from \"./links.vue?vue&type=script&lang=js\"\n\nimport \"./links.vue?vue&type=style&index=0&id=58f0cc99&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-58f0cc99\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./links.vue?vue&type=style&index=0&id=58f0cc99&lang=scss&scoped=true\""],"sourceRoot":""}