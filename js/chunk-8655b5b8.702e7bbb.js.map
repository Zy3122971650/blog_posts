{"version":3,"sources":["webpack:///./src/views/home.vue","webpack:///./src/views/home.vue?01cc","webpack:///./src/views/home.vue?5503"],"names":["class","data","item","index","style","key","header","route_to_post","basename","title","markdown_to_html","abstract","date","tags","index2","route_to_tag","type","methods","set_page_total","url","this","$store","state","base_url","a","get","then","response","page_total","parseInt","get_page_data","page_now","console","log","document","getElementsByTagName","scroll","conetxt","name","$router","push","params","post_name","tag","tag_name","computed","watch","mounted","base_title","render","__scopeId"],"mappings":"qNACOA,MAAM,S,GAYFA,MAAM,gB,GAGNA,MAAM,e,GACJA,MAAM,Q,iBAcR,Q,iKA9BT,eAkCM,MAlCN,EAkCM,E,mBAjCJ,eAgCU,2BA7BgB,EAAAC,MAAI,SAApBC,EAAMC,G,wBAHhB,eAgCU,GA/BRC,MAAA,eACAJ,MAAM,OAELK,IAAKF,G,CAEKG,OAAM,GACf,iBAEM,CAFN,eAEM,OAFDN,MAAM,cAAe,QAAK,mBAAE,EAAAO,cAAcL,EAAKM,Y,CAClD,eAA6B,2BAApBN,EAAKO,OAAK,I,8BAGvB,iBAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAA4D,WAAnD,UAAQ,EAAAC,iBAAiBR,EAAKS,W,wBAEzC,eAiBM,MAjBN,EAiBM,CAhBJ,eASM,MATN,EASM,CARJ,eAA2D,GAAnDP,MAAA,wBAAyB,C,WAAC,iBAAC,C,eAAD,IAAC,eAAGF,EAAKU,MAAI,O,+BAC/C,eAMC,2BAJ0BV,EAAKW,MAAI,SAA1BA,EAAMC,G,wBAFhB,eAMC,GALCd,MAAM,MAELK,IAAKS,EACL,QAAK,mBAAE,EAAAC,aAAaF,K,YACpB,iBAAC,C,eAAD,IAAC,eAAGA,GAAI,O,kCAGb,eAKC,GAJCG,KAAK,OACLhB,MAAM,SACL,QAAK,mBAAE,EAAAO,cAAcL,EAAKM,Y,YAC1B,iBAAI,C,sGASA,GAGbP,KAHa,WAIX,MAAO,CACLA,KAAM,KAGVgB,QAAS,CACPC,eADO,WACU,WACTC,EAAMC,KAAKC,OAAOC,MAAMC,SAAW,8BACzC,EAAAC,EAAMC,IAAIN,GAAKO,MAAK,SAACC,GACnB,EAAKN,OAAOC,MAAMM,WAAaC,SAASF,EAAS1B,KAAM,QAG3D6B,cAPO,WAOS,WACRX,EACJC,KAAKC,OAAOC,MAAMC,SAAlB,0BACmBH,KAAKC,OAAOC,MAAMS,SADrC,SAEF,EAAAP,EAAMC,IAAIN,GAAKO,MAAK,SAACC,GACnBK,QAAQC,IAAIN,EAAS1B,MACrB,EAAKA,KAAO0B,EAAS1B,QAGvBiC,SAASC,qBAAqB,QAAQ,GAAGC,OAAO,EAAG,IAErD1B,iBAlBO,SAkBU2B,GACf,OAAO,IAASA,IAElB9B,cArBO,SAqBO+B,GACZJ,SAASzB,MAAQ6B,EACjBlB,KAAKmB,QAAQC,KAAK,CAAEF,KAAM,OAAQG,OAAQ,CAAEC,UAAWJ,MAEzDvB,aAzBO,SAyBM4B,GACXT,SAASzB,MAAQkC,EACjBvB,KAAKmB,QAAQC,KAAK,CAAEF,KAAM,YAAaG,OAAQ,CAAEG,SAAUD,OAG/DE,SAAU,CACRd,SADQ,WAEN,OAAOX,KAAKC,OAAOC,MAAMS,WAG7Be,MAAO,CACLf,SADK,WAEHX,KAAKU,kBAGTiB,QAhDa,WAiDXb,SAASzB,MAAQW,KAAKC,OAAOC,MAAM0B,WAAa,KAChD5B,KAAKC,OAAOC,MAAMS,SAAW,EAC7BX,KAAKF,iBACLE,KAAKU,kB,UCvFT,EAAOmB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf","file":"js/chunk-8655b5b8.702e7bbb.js","sourcesContent":["<template>\n  <div class=\"cards\">\n    <el-card\n      style=\"width: 100%\"\n      class=\"card\"\n      v-for=\"(item, index) in data\"\n      :key=\"index\"\n    >\n      <template #header>\n        <div class=\"card-header\" @click=\"route_to_post(item.basename)\">\n          <span>{{ item.title }}</span>\n        </div>\n      </template>\n      <div class=\"card-context\">\n        <article v-html=\"markdown_to_html(item.abstract)\"></article>\n      </div>\n      <div class=\"card-footer\">\n        <div class=\"tags\">\n          <el-tag style=\"margin-left: 10px\">#{{ item.date }}</el-tag>\n          <el-tag\n            class=\"tag\"\n            v-for=\"(tags, index2) in item.tags\"\n            :key=\"index2\"\n            @click=\"route_to_tag(tags)\"\n            >#{{ tags }}</el-tag\n          >\n        </div>\n        <el-button\n          type=\"text\"\n          class=\"button\"\n          @click=\"route_to_post(item.basename)\"\n          >查看全文</el-button\n        >\n      </div>\n    </el-card>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport markdown from \"marked\";\nexport default {\n  // 根据page_now去跟新页面\n  // 几乎可以全部复用，到时候再改\n  data() {\n    return {\n      data: [],\n    };\n  },\n  methods: {\n    set_page_total() {\n      const url = this.$store.state.base_url + \"/homePages/total_number.txt\";\n      axios.get(url).then((response) => {\n        this.$store.state.page_total = parseInt(response.data, 10);\n      });\n    },\n    get_page_data() {\n      const url =\n        this.$store.state.base_url +\n        `/homePages/page_${this.$store.state.page_now}.json`;\n      axios.get(url).then((response) => {\n        console.log(response.data);\n        this.data = response.data;\n      });\n      // 回到顶\n      document.getElementsByTagName(\"html\")[0].scroll(0, 0);\n    },\n    markdown_to_html(conetxt) {\n      return markdown(conetxt);\n    },\n    route_to_post(name) {\n      document.title = name;\n      this.$router.push({ name: \"post\", params: { post_name: name } });\n    },\n    route_to_tag(tag) {\n      document.title = tag;\n      this.$router.push({ name: \"tag_index\", params: { tag_name: tag } });\n    },\n  },\n  computed: {\n    page_now() {\n      return this.$store.state.page_now;\n    },\n  },\n  watch: {\n    page_now() {\n      this.get_page_data();\n    },\n  },\n  mounted() {\n    document.title = this.$store.state.base_title + \"首页\";\n    this.$store.state.page_now = 1;\n    this.set_page_total();\n    this.get_page_data();\n  },\n};\n</script>\n<style lang='scss' scoped>\n.card-header {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n}\n.card-context {\n  text-align: start;\n}\n.card-footer {\n  margin-top: 13px;\n  line-height: 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.card {\n  margin-top: 20px;\n}\n.cards {\n  width: 100%;\n}\n.tag {\n  margin-left: 10px;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n}\n</style>","import { render } from \"./home.vue?vue&type=template&id=ca367f1c&scoped=true\"\nimport script from \"./home.vue?vue&type=script&lang=js\"\nexport * from \"./home.vue?vue&type=script&lang=js\"\n\nimport \"./home.vue?vue&type=style&index=0&id=ca367f1c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ca367f1c\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./home.vue?vue&type=style&index=0&id=ca367f1c&lang=scss&scoped=true\""],"sourceRoot":""}